overlayGroups = c('City boundaries', 'MJPA boundary',
'Existing warehouses',
'Under construction warehouses',
'West Campus Upper Plateau')) %>%
setView(lng = -117.25, lat = 33.87, zoom = 12) %>%
addPolygons(data = cities,
stroke = TRUE,
color = 'blue',
fillOpacity = 0,
weight = 3,
group = 'City boundaries',
label = ~htmlEscape(city.name)
)  %>%
addPolygons(data = MJPA,
stroke = TRUE,
color = 'black',
weight = 5,
fillOpacity = 0,
group = 'MJPA boundary') %>%
addPolygons(data = warehouses,
stroke = FALSE,
color = 'red',
fillOpacity = 0.5,
group = 'Existing warehouses',
label = ~htmlEscape(paste('Parcel', apn, ';',
round(shape_area,0), 'sq.ft.', class, year_chr))) %>%
addPolygons(data = Syc_WH,
stroke = TRUE,
weight = 2,
color = 'red',
fillOpacity = 0.5,
label = ~htmlEscape(name),
group = 'Under construction warehouses') %>%
addPolygons(data = WCUP,
stroke = TRUE,
weight = 2,
color = 'red',
fillOpacity = 0.5,
label = ~htmlEscape(name),
group = 'West Campus Upper Plateau')
leaflet() %>%
addTiles() %>%
addProviderTiles(provider = providers$Esri.WorldImagery,
group = 'Imagery') %>%
addLayersControl(baseGroups = c('Basemap', 'Imagery'),
overlayGroups = c('City boundaries', 'MJPA boundary',
'Existing warehouses',
'Under construction warehouses',
'West Campus Upper Plateau',
'800 foot buffer - City policy')) %>%
setView(lng = -117.25, lat = 33.87, zoom = 12) %>%
addPolygons(data = cities,
stroke = TRUE,
color = 'blue',
fillOpacity = 0,
weight = 3,
group = 'City boundaries',
label = ~htmlEscape(city.name)
)  %>%
addPolygons(data = MJPA,
stroke = TRUE,
color = 'black',
weight = 5,
fillOpacity = 0,
group = 'MJPA boundary') %>%
addPolygons(data = warehouses,
stroke = FALSE,
color = 'red',
fillOpacity = 0.5,
group = 'Existing warehouses',
label = ~htmlEscape(paste('Parcel', apn, ';',
round(shape_area,0), 'sq.ft.', class, year_chr))) %>%
addPolygons(data = Syc_WH,
stroke = TRUE,
weight = 2,
color = 'red',
fillOpacity = 0.5,
label = ~htmlEscape(name),
group = 'Under construction warehouses') %>%
addPolygons(data = WCUP,
stroke = TRUE,
weight = 2,
color = 'red',
fillOpacity = 0.5,
label = ~htmlEscape(name),
group = 'West Campus Upper Plateau') %>%
addPolygons(data = buff_proj_800,
stroke = FALSE,
color = 'red',
fillOpacity = 0.5,
group = '800 foot buffer - City policy')
leaflet() %>%
addTiles() %>%
addProviderTiles(provider = providers$Esri.WorldImagery,
group = 'Imagery') %>%
addLayersControl(baseGroups = c('Basemap', 'Imagery'),
overlayGroups = c('City boundaries', 'MJPA boundary',
'Existing warehouses',
'Under construction warehouses',
'West Campus Upper Plateau',
'800 foot buffer - City policy')) %>%
setView(lng = -117.25, lat = 33.87, zoom = 12) %>%
addPolygons(data = cities,
stroke = TRUE,
color = 'blue',
fillOpacity = 0,
weight = 3,
group = 'City boundaries',
label = ~htmlEscape(city.name)
)  %>%
addPolygons(data = MJPA,
stroke = TRUE,
color = 'black',
weight = 5,
fillOpacity = 0,
group = 'MJPA boundary') %>%
addPolygons(data = warehouses,
stroke = FALSE,
color = 'red',
fillOpacity = 0.5,
group = 'Existing warehouses',
label = ~htmlEscape(paste('Parcel', apn, ';',
round(shape_area,0), 'sq.ft.', class, year_chr))) %>%
addPolygons(data = Syc_WH,
stroke = TRUE,
weight = 2,
color = 'red',
fillOpacity = 0.5,
label = ~htmlEscape(name),
group = 'Under construction warehouses') %>%
addPolygons(data = buff_proj_800,
stroke = FALSE,
color = 'gray',
fillOpacity = 0.2,
group = '800 foot buffer - City policy') %>%
addPolygons(data = WCUP,
stroke = TRUE,
weight = 2,
color = 'red',
fillOpacity = 0.5,
label = ~htmlEscape(name),
group = 'West Campus Upper Plateau') #%>%
leaflet() %>%
addTiles() %>%
addProviderTiles(provider = providers$Esri.WorldImagery,
group = 'Imagery') %>%
addLayersControl(baseGroups = c('Basemap', 'Imagery'),
overlayGroups = c('City boundaries', 'MJPA boundary',
'Existing warehouses',
'Under construction warehouses',
'West Campus Upper Plateau',
'800 foot buffer - City policy')) %>%
setView(lng = -117.25, lat = 33.87, zoom = 12) %>%
addPolygons(data = cities,
stroke = TRUE,
color = 'blue',
fillOpacity = 0,
weight = 3,
group = 'City boundaries',
label = ~htmlEscape(city.name)
)  %>%
addPolygons(data = MJPA,
stroke = TRUE,
color = 'black',
weight = 5,
fillOpacity = 0,
group = 'MJPA boundary') %>%
addPolygons(data = warehouses,
stroke = FALSE,
color = 'red',
fillOpacity = 0.5,
group = 'Existing warehouses',
label = ~htmlEscape(paste('Parcel', apn, ';',
round(shape_area,0), 'sq.ft.', class, year_chr))) %>%
addPolygons(data = Syc_WH,
stroke = TRUE,
weight = 2,
color = 'red',
fillOpacity = 0.5,
label = ~htmlEscape(name),
group = 'Under construction warehouses') %>%
addPolygons(data = buff_proj_800,
stroke = FALSE,
color = 'pink',
fillOpacity = 0.3,
group = '800 foot buffer - City policy') %>%
addPolygons(data = WCUP,
stroke = TRUE,
weight = 2,
color = 'red',
fillOpacity = 0.5,
label = ~htmlEscape(name),
group = 'West Campus Upper Plateau') #%>%
leaflet() %>%
addTiles() %>%
addProviderTiles(provider = providers$Esri.WorldImagery,
group = 'Imagery') %>%
addLayersControl(baseGroups = c('Basemap', 'Imagery'),
overlayGroups = c('City boundaries', 'MJPA boundary',
'Existing warehouses',
'Under construction warehouses',
'West Campus Upper Plateau',
'800 foot buffer - City policy')) %>%
setView(lng = -117.25, lat = 33.87, zoom = 12) %>%
addPolygons(data = cities,
stroke = TRUE,
color = 'blue',
fillOpacity = 0,
weight = 3,
group = 'City boundaries',
label = ~htmlEscape(city.name)
)  %>%
addPolygons(data = MJPA,
stroke = TRUE,
color = 'black',
weight = 5,
fillOpacity = 0,
group = 'MJPA boundary') %>%
addPolygons(data = warehouses,
stroke = FALSE,
color = 'red',
fillOpacity = 0.5,
group = 'Existing warehouses',
label = ~htmlEscape(paste('Parcel', apn, ';',
round(shape_area,0), 'sq.ft.', class, year_chr))) %>%
addPolygons(data = Syc_WH,
stroke = TRUE,
weight = 2,
color = 'red',
fillOpacity = 0.5,
label = ~htmlEscape(name),
group = 'Under construction warehouses') %>%
addPolygons(data = buff_proj_800,
stroke = FALSE,
color = 'brown',
fillOpacity = 0.3,
group = '800 foot buffer - City policy') %>%
addPolygons(data = WCUP,
stroke = TRUE,
weight = 2,
color = 'red',
fillOpacity = 0.5,
label = ~htmlEscape(name),
group = 'West Campus Upper Plateau') #%>%
leaflet() %>%
addTiles() %>%
addProviderTiles(provider = providers$Esri.WorldImagery,
group = 'Imagery') %>%
addLayersControl(baseGroups = c('Basemap', 'Imagery'),
overlayGroups = c('City boundaries', 'MJPA boundary',
'Existing warehouses',
'Under construction warehouses',
'West Campus Upper Plateau',
'800 foot buffer - City policy',
'1000 foot buffer - WRCOG GNG'),
options = layersControlOptions(collapsed = FALSE)) %>%
hideGroup(c('800 foot buffer - City policy',
'1000 foot buffer - WRCOG GNG')) %>%
setView(lng = -117.25, lat = 33.87, zoom = 12) %>%
addPolygons(data = cities,
stroke = TRUE,
color = 'blue',
fillOpacity = 0,
weight = 3,
group = 'City boundaries',
label = ~htmlEscape(city.name)
)  %>%
addPolygons(data = MJPA,
stroke = TRUE,
color = 'black',
weight = 5,
fillOpacity = 0,
group = 'MJPA boundary') %>%
addPolygons(data = warehouses,
stroke = FALSE,
color = 'red',
fillOpacity = 0.5,
group = 'Existing warehouses',
label = ~htmlEscape(paste('Parcel', apn, ';',
round(shape_area,0), 'sq.ft.', class, year_chr))) %>%
addPolygons(data = Syc_WH,
stroke = TRUE,
weight = 2,
color = 'red',
fillOpacity = 0.5,
label = ~htmlEscape(name),
group = 'Under construction warehouses') %>%
addPolygons(data = buff_proj_800,
stroke = FALSE,
color = 'brown',
fillOpacity = 0.3,
group = '800 foot buffer - City policy') %>%
addPolygons(data = buff_proj_1000,
stroke = FALSE,
color = 'brown',
fillOpacity = 0.3,
group = '1000 foot buffer - WRCOG GNG')) %>%
leaflet() %>%
addTiles() %>%
addProviderTiles(provider = providers$Esri.WorldImagery,
group = 'Imagery') %>%
addLayersControl(baseGroups = c('Basemap', 'Imagery'),
overlayGroups = c('City boundaries', 'MJPA boundary',
'Existing warehouses',
'Under construction warehouses',
'West Campus Upper Plateau',
'800 foot buffer - City policy',
'1000 foot buffer - WRCOG GNG'),
options = layersControlOptions(collapsed = FALSE)) %>%
hideGroup(c('800 foot buffer - City policy',
'1000 foot buffer - WRCOG GNG')) %>%
setView(lng = -117.25, lat = 33.87, zoom = 12) %>%
addPolygons(data = cities,
stroke = TRUE,
color = 'blue',
fillOpacity = 0,
weight = 3,
group = 'City boundaries',
label = ~htmlEscape(city.name)
)  %>%
addPolygons(data = MJPA,
stroke = TRUE,
color = 'black',
weight = 5,
fillOpacity = 0,
group = 'MJPA boundary') %>%
addPolygons(data = warehouses,
stroke = FALSE,
color = 'red',
fillOpacity = 0.5,
group = 'Existing warehouses',
label = ~htmlEscape(paste('Parcel', apn, ';',
round(shape_area,0), 'sq.ft.', class, year_chr))) %>%
addPolygons(data = Syc_WH,
stroke = TRUE,
weight = 2,
color = 'red',
fillOpacity = 0.5,
label = ~htmlEscape(name),
group = 'Under construction warehouses') %>%
addPolygons(data = buff_proj_800,
stroke = FALSE,
color = 'brown',
fillOpacity = 0.3,
group = '800 foot buffer - City policy') %>%
addPolygons(data = buff_proj_1000,
stroke = FALSE,
color = 'brown',
fillOpacity = 0.3,
group = '1000 foot buffer - WRCOG GNG') %>%
addPolygons(data = WCUP,
stroke = TRUE,
weight = 2,
color = 'red',
fillOpacity = 0.5,
label = ~htmlEscape(name),
group = 'West Campus Upper Plateau') #%>%
buff_proj_1000 <- WCUP %>%
rbind(Syc_WH) %>%
st_buffer(dist = 304)
buff_proj_800 <- WCUP %>%
rbind(Syc_WH) %>%
st_buffer(dist = 243.8)
leaflet() %>%
addTiles() %>%
addProviderTiles(provider = providers$Esri.WorldImagery,
group = 'Imagery') %>%
addLayersControl(baseGroups = c('Basemap', 'Imagery'),
overlayGroups = c('City boundaries', 'MJPA boundary',
'Existing warehouses',
'Under construction warehouses',
'West Campus Upper Plateau',
'800 foot buffer - City policy',
'1000 foot buffer - WRCOG GNG'),
options = layersControlOptions(collapsed = FALSE)) %>%
hideGroup(c('800 foot buffer - City policy',
'1000 foot buffer - WRCOG GNG')) %>%
setView(lng = -117.25, lat = 33.87, zoom = 12) %>%
addPolygons(data = cities,
stroke = TRUE,
color = 'blue',
fillOpacity = 0,
weight = 3,
group = 'City boundaries',
label = ~htmlEscape(city.name)
)  %>%
addPolygons(data = MJPA,
stroke = TRUE,
color = 'black',
weight = 5,
fillOpacity = 0,
group = 'MJPA boundary') %>%
addPolygons(data = warehouses,
stroke = FALSE,
color = 'red',
fillOpacity = 0.5,
group = 'Existing warehouses',
label = ~htmlEscape(paste('Parcel', apn, ';',
round(shape_area,0), 'sq.ft.', class, year_chr))) %>%
addPolygons(data = Syc_WH,
stroke = TRUE,
weight = 2,
color = 'red',
fillOpacity = 0.5,
label = ~htmlEscape(name),
group = 'Under construction warehouses') %>%
addPolygons(data = buff_proj_800,
stroke = FALSE,
color = 'brown',
fillOpacity = 0.3,
group = '800 foot buffer - City policy') %>%
addPolygons(data = buff_proj_1000,
stroke = FALSE,
color = 'brown',
fillOpacity = 0.3,
group = '1000 foot buffer - WRCOG GNG') %>%
addPolygons(data = WCUP,
stroke = TRUE,
weight = 2,
color = 'red',
fillOpacity = 0.5,
label = ~htmlEscape(name),
group = 'West Campus Upper Plateau')
warehouses_narrow <- warehouses %>%
select(apn, geometry) %>%
rename(name = apn)
buff_proj_1000 <- WCUP %>%
rbind(Syc_WH) %>%
rbind(warehouses_narrow) %>%
st_buffer(dist = 304)
warehouses_narrow <- warehouses %>%
select(apn, geometry) %>%
rename(name = apn, geom = geometry)
buff_proj_1000 <- WCUP %>%
rbind(Syc_WH) %>%
rbind(warehouses_narrow) %>%
st_buffer(dist = 304)
buff_proj_800 <- WCUP %>%
rbind(Syc_WH) %>%
rbind(warehouses_narrow) %>%
st_buffer(dist = 243.8)
palCity <- colorFactor(palette = c('brown', 'yellow', 'orange'), domain = cities$city.name)
leaflet() %>%
addTiles() %>%
addProviderTiles(provider = providers$Esri.WorldImagery,
group = 'Imagery') %>%
addLayersControl(baseGroups = c('Basemap', 'Imagery'),
overlayGroups = c('City boundaries', 'MJPA boundary',
'Existing warehouses',
'Under construction warehouses',
'West Campus Upper Plateau',
'800 foot buffer - City policy',
'1000 foot buffer - WRCOG GNG'),
options = layersControlOptions(collapsed = FALSE)) %>%
hideGroup(c('800 foot buffer - City policy',
'1000 foot buffer - WRCOG GNG')) %>%
setView(lng = -117.25, lat = 33.87, zoom = 12) %>%
addPolygons(data = cities,
stroke = TRUE,
color = 'blue',
fillOpacity = 0,
weight = 3,
group = 'City boundaries',
label = ~htmlEscape(city.name)
)  %>%
addPolygons(data = MJPA,
stroke = TRUE,
color = 'black',
weight = 5,
fillOpacity = 0,
group = 'MJPA boundary') %>%
addPolygons(data = warehouses,
stroke = FALSE,
color = 'red',
fillOpacity = 0.5,
group = 'Existing warehouses',
label = ~htmlEscape(paste('Parcel', apn, ';',
round(shape_area,0), 'sq.ft.', class, year_chr))) %>%
addPolygons(data = Syc_WH,
stroke = TRUE,
weight = 2,
color = 'red',
fillOpacity = 0.5,
label = ~htmlEscape(name),
group = 'Under construction warehouses') %>%
addPolygons(data = buff_proj_800,
stroke = FALSE,
color = 'brown',
fillOpacity = 0.3,
group = '800 foot buffer - City policy') %>%
addPolygons(data = buff_proj_1000,
stroke = FALSE,
color = 'brown',
fillOpacity = 0.3,
group = '1000 foot buffer - WRCOG GNG') %>%
addPolygons(data = WCUP,
stroke = TRUE,
weight = 2,
color = 'red',
fillOpacity = 0.5,
label = ~htmlEscape(name),
group = 'West Campus Upper Plateau')
setwd(app_dir)
app_dir <- paste0(wd, '/MarchJPA')
save.image('.RData')
setwd(app_dir)
save.image('.RData')
shiny::runApp()
runApp()
runApp()
runApp()
* City boundaries - This shows the city borders for the Cities of Moreno Valley, Perris, and Riverside as a blue line. Data obtained from [RivCo Open Data Cities](https://gisopendata-countyofriverside.opendata.arcgis.com/datasets/CountyofRiverside::cities/explore)
